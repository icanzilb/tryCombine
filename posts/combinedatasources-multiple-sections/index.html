<!DOCTYPE html>
<html>
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">

		<meta charset="utf-8">
		<title>Binding a list with multiple sections and different cells</title>
		<meta name="viewport" content="width=device-width">
		
		<link rel="stylesheet" href="https://trycombine.com/css/hybrid.css">
		<link rel="stylesheet" href="https://trycombine.com/css/style.css">
		<link rel="stylesheet" href="https://trycombine.com/css/colors-dark.css">
		<meta property="og:title" content="Binding a list with multiple sections and different cells" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Using CombineDataSources " />
<meta property="og:type" content="article" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://trycombine.com/posts/combinedatasources-multiple-sections/" />


<meta property="og:image" content="https://trycombine.com/images/trycombine.png" />


<meta property="og:site_name" content="try Code" />

<meta name="description" content="Using CombineDataSources ">
<meta name="author" content="Marin Todorov">

<link href rel="alternate" type="application/rss+xml" title="try Code">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:description" content="Using CombineDataSources " />
<meta name="twitter:creator" content="@icanzilb" />

<meta name="twitter:title" content="Binding a list with multiple sections and different cells">


 
   <meta property="article:tag" content="Combine" />



<meta name="twitter:image:src" content="https://trycombine.com/images/trycombine.png">
<meta name="twitter:image:width" content="800">
<meta name="twitter:image:height" content="800">


<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="Marin Todorov" />

<link rel="stylesheet" href="https://trycombine.com/css/bootstrap-table.css">

	</head>
	<body>
		<header id="header">
			<h1><a href="https://trycombine.com/">try Code</a></h1>
			<p>by Marin Todorov</p>
			<nav style="border-top: 1px solid #555; height: 36px; border-bottom: 1px solid #555;"> 
	<div id="menu">
		<ul id="combineslack" style="float: right;">
			<li></li>
		</ul>
	
		<ul class="nav">
			
				<li><a href="http://www.underplot.com"><span>Contact</span></a></li>
			
		</ul>
	
		<ul class="nav">
			
				<li><a href="https://github.com/icanzilb"><span>Github</span></a></li>
			
		</ul>
	
		<ul class="nav">
			
				<li><a href="https://twitter.com/icanzilb"><span>Twitter</span></a></li>
			
		</ul>
	
	</div>
</nav>

		</header>

		<div id="page">
			<div id="sidebar">
				<div class="sidebar-posts">
    <div class="sidebar-title"><a href="https://trycombine.com/index.xml" class="rss-button"><img src="https://trycombine.com/images/ic_rss_feed_48px.png"></a> Latest posts:</div>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/code-samples-on-how-to-approach-debugging-swift-and-uikit-apps/">&raquo; &nbsp; 3/Jan &middot; Automate debugging SwiftUI and UIKit with dataTile</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/datatile-for-simulator-is-on-the-appstore-now/">&raquo; &nbsp; 3/Jan &middot; dataTile for Simulator launches today! üöÄ</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/using-markcodable-to-generate-reports/">&raquo; &nbsp; 8/Dec &middot; Automation tooling using MarkCodable for reports</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/custom-view-modifier-to-handle-features-that-are-only-enabled-in-the-pro-version-of-the-app/">&raquo; &nbsp; 5/Dec &middot; Custom SwiftUI view modifier for paid app features</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/datatile-for-simulator-public-beta-on-testflight-now/">&raquo; &nbsp; 29/Nov &middot; dataTile for Simulator - public beta on TestFlight now!</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/12-of-my-favorite-side-projects-in-2022/">&raquo; &nbsp; 7/Nov &middot; My favorite 12 side projects in 2022</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/introducing-got-jobs/">&raquo; &nbsp; 6/Nov &middot; Introducing: Got Jobs?</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/introducing-markcodable/">&raquo; &nbsp; 6/Sep &middot; Introducing MarkCodable</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/introducing-timeui/">&raquo; &nbsp; 20/Mar &middot; Introducing timeui</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-performance-concurrency-4/">&raquo; &nbsp; 14/Mar &middot; Optimization in Swift, part 4</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-performance-concurrency-3/">&raquo; &nbsp; 10/Mar &middot; Optimization in Swift, part 3</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-performance-concurrency-2/">&raquo; &nbsp; 9/Mar &middot; Optimization in Swift, part 2</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-performance-concurrency-1/">&raquo; &nbsp; 3/Mar &middot; Optimization in Swift, part 1</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-concurrency-task-group-workflow/">&raquo; &nbsp; 21/Feb &middot; TaskGroup as a workflow design tool</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-concurrency-task-group/">&raquo; &nbsp; 16/Feb &middot; The issue with task groups or how I discovered a solved problem</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-light-ide-update-jan/">&raquo; &nbsp; 31/Jan &middot; Swift Light IDE update, Jan 31st</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-read-modify-coroutines/">&raquo; &nbsp; 25/Jan &middot; Yielding accessors in Swift</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-async-sequence-extensions-2/">&raquo; &nbsp; 21/Jan &middot; Swift Async Sequence extensions (part 2)</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-async-sequence-extensions-1/">&raquo; &nbsp; 19/Jan &middot; Swift Async Sequence extensions (part 1)</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/xcode-powerups/">&raquo; &nbsp; 20/Dec &middot; Extending Xcode with power-ups</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/announcing-modern-swift-concurrency-book/">&raquo; &nbsp; 3/Nov &middot; Announcing: ‚ÄúModern Concurrency in Swift‚Äù</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-actor-dispatch-queues-concurrency/">&raquo; &nbsp; 6/Oct &middot; Actors, the cooperative pool and concurrency</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/performance-actor-queue-lock-benchmark/">&raquo; &nbsp; 30/Sep &middot; Performance: Actor vs queue vs lock</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/thread-task-sleep/">&raquo; &nbsp; 13/Sep &middot; The difference between Thread.sleep() and Task.sleep()</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/combine-async-sequence-2/">&raquo; &nbsp; 13/Jul &middot; Bridge from Combine to AsyncSequence - the code (p. 2)</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/combine-async-sequence-1/">&raquo; &nbsp; 12/Jul &middot; Bridge from Combine to AsyncSequence - the plan (p. 1)</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-actors-combine/">&raquo; &nbsp; 12/May &middot; Swift Actors: A practical example, part 2</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/swift-actors/">&raquo; &nbsp; 10/May &middot; Swift Actors: A practical example, part 1</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/self-weak-unowned/">&raquo; &nbsp; 3/Mar &middot; Using self, weak, and unowned in Combine</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/cancellor/">&raquo; &nbsp; 5/Feb &middot; Owning AnyCancellable with Cancellor</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/timelane-nsspain-2020/">&raquo; &nbsp; 20/Nov &middot; 5 Stranger Things you can do with Timelane at NSSpain</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/how-to-create-custom-instrument/">&raquo; &nbsp; 19/Apr &middot; How to create a custom instrument on top of Timelane!</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/timelane-combine-update/">&raquo; &nbsp; 13/Mar &middot; Timelane - the first two weeks!</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/announcing-timelane-combine/">&raquo; &nbsp; 28/Feb &middot; Announcing: Timelane</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/combine-property-wrappers/">&raquo; &nbsp; 11/Sep &middot; Property Wrappers with Combine</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/subscribe-on-receive-on/">&raquo; &nbsp; 9/Sep &middot; subscribe(on:) vs receive(on:)</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/combinedatasources-multiple-sections/">&raquo; &nbsp; 7/Sep &middot; Binding a list with multiple sections and different cells</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/combinedatasources-simple-static-list/">&raquo; &nbsp; 3/Sep &middot; Binding a simple list to a UITableView</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/assert-max-subscriptions/">&raquo; &nbsp; 29/Aug &middot; An assert operator: assertMaxSubscriptions()</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/debug-logging-combineprintout/">&raquo; &nbsp; 16/Aug &middot; Debug logging with CombinePrintout</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/more-simple-custom-combine-operators-with-sample/">&raquo; &nbsp; 6/Aug &middot; Building a custom `sample` operator</a>
      </li>
    
      <li class="sidebar-post" style="margin-top: 12px;">
          <a href="https://trycombine.com/posts/simple-custom-combine-operators/">&raquo; &nbsp; 2/Aug &middot; Simple custom Combine operators</a>
      </li>
    
  </div>

<style>
	  .sidebar-post { font-size:0.75em; margin-top:12px; line-height: 14px;}
    .sidebar-post a { text-decoration: none; }
    .sidebar-post a:hover { text-decoration: underline; }
</style>

			</div>

			<div id="content">
				
	<article class="post">
		
			
		<h1 style="margin-bottom: 10px; padding-bottom: 5px; border-bottom: 0px solid orange;">Binding a list with multiple sections and different cells </h1>

<style>
  .twitter-share-button {
  	font-family: 'Helvetica Neue',Arial,sans-serif;
  	background: #4793DA;
  	color: white;
  	padding-left: 16px;
  	padding-right: 16px;
  	margin-top: 2px;
  	border-radius: 4px;
  	font-size: 0.85em;
  	line-height: 3em;
  }

  .twitter-share-button:hover {
  	background: #3C769F;
  	color: white;
  	padding-left: 16px;
  	padding-right: 16px;
  	margin-top: 2px;
  }

  .twitter-share-button:active {
  	background: #284F6A;
  	color: white;
  	padding-left: 16px;
  	padding-right: 16px;
  	margin-top: 2px;
  }

</style>



    <div style="border: 2px solid purple; border-radius: 10px; padding: 5px; margin-bottom:10px;margin-top:20px;">
	  <div style="position:absolute;left:15px;background:purple;font-size:0.75em;font-family:sans-serif;padding-left:5px; padding-right:5px;margin-top:-13px;line-height:1.1em;border-radius:6px;">promotion</div>
	  <table>
		<tr>
		  <td style="padding-top:10px;"><a href="https://underplot.com/dataTile" style="margin:0px;padding:0px;"><img src="https://underplot.com/dataTile/images/tile/hero-window.gif" src1="../../images/tile/Icon_128x128.png" width=164 style="margin-right: 20px;margin-left: 10px;mask-image:url(https://underplot.com/dataTile/images/tile/mask-568.png);mask-size:contain;"/></a></td>
		  <td style="vertical-align:top;font-family:sans-serif;font-weight: normal; font-size: 0.85em;line-height: 1.4em;padding-top:22px;" class="promotion-insert">
			<a href="https://underplot.com/dataTile" style="margin:0px;padding:0px;background-color: #073642;border-color: #98e4df;color: #98e4df;">
			Forget debugging in the console!<br/>
			Super-charge your debugging flow in Xcode with<br/> no code changes or 3rd party frameworks.
			</a>
		  </td>
		</tr>
	  </table>
	</div>
	

		<div class="post-content"><p>Today&rsquo;s post showcases another real-life use case of using <a href="https://github.com/combineopensource/CombineDataSources">CombineDataSources</a>, namely binding a list to a table view with multiple sections using different cell types.</p>
<p>In my last post <a href="http://trycombine.com/posts/combinedatasources-simple-static-list/">Binding a simple list to a UITableView</a> we had a look at binding a list of data elements to a table view. It&rsquo;s pretty simple to bind a plain table view when you have a coherent list of elements.</p>
<p>In this post I&rsquo;m gonna show some code on how to bind a list to a table with multiple sections that also needs to use different cell types for the different sections.</p>
<p>In the previous post I used the <code>rowsSubscriber(...)</code> extension on <code>UITableView</code> like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>bind(subscriber:
</span></span><span style="display:flex;"><span>  tableView.rowsSubscriber(
</span></span><span style="display:flex;"><span>    cellIdentifier:
</span></span><span style="display:flex;"><span>    cellType:
</span></span><span style="display:flex;"><span>    cellConfig:
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div>
<p><code>tableView.rowsSubscriber(...)</code> returns a table specific subscriber which manages the cells in the table view. The subscriber does that by instantiating a <code>TableViewItemsController</code> configured with the given cell type &amp; identifier.</p>
<p>Given you set a single cell identifier, this approach obviously suits only plain lists with a single type of table rows.</p>
<p>In this post we are going to go a level deeper into the API and create manually a <code>TableViewItemsController</code> which will allow us to create different types of cells and feed them to the table view.</p>
<h2 id="setting-up-a-sectioned-table-project">Setting up a sectioned table project</h2>
<p>To get the CombineDataSources binding goign first of all I need a simple project with a sectioned table view to play with.</p>
<p>For this post I created a simple Mail app featuring a table view list with two cells - one for inbox messages and one for outbox messages:</p>
<p><img src="https://trycombine.com/images/datasources/mail-storyboard.png" alt="Mail app storyboard"></p>
<p>Each cell is a different type (<code>InboxCell</code> and <code>OutboxCell</code>) and features its own custom UI in the Storyboard.</p>
<p>I also need a data model for the inbox and outbox messages:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">struct</span> <span style="color:#447fcf;text-decoration:underline">Message</span>: <span style="color:#24909d">Hashable</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">title</span>: <span style="color:#24909d">String</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">text</span>: <span style="color:#24909d">String</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">messages</span>: [[Message]] = [
</span></span><span style="display:flex;"><span>  [
</span></span><span style="display:flex;"><span>    Message(title: <span style="color:#ed9d13">&#34;Re: Hello again!&#34;</span>, text: <span style="color:#ed9d13">&#34;...&#34;</span>)
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  [
</span></span><span style="display:flex;"><span>    Message(title: <span style="color:#ed9d13">&#34;Hello again!&#34;</span>, text: <span style="color:#ed9d13">&#34;...&#34;</span>),
</span></span><span style="display:flex;"><span>    Message(title: <span style="color:#ed9d13">&#34;Please confirm your account&#34;</span>, text: <span style="color:#ed9d13">&#34;...&#34;</span>),
</span></span><span style="display:flex;"><span>    Message(title: <span style="color:#ed9d13">&#34;See you at: Swift Peer Lab&#34;</span>, text: <span style="color:#ed9d13">&#34;...&#34;</span>)
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>]</span></span></code></pre></div>
<p><code>Message</code> is a simple struct that includes a title and the message text. <code>messages</code> is a <code>Message</code> collection that I&rsquo;ll bind to my table view: the first array in <code>messages</code> is my outbox message list, the second contains the messages in the inbox.</p>
<h2 id="binding-multiple-cell-types">Binding multiple cell types</h2>
<p>I&rsquo;d like to bind my <code>messages</code> list to the two sections of my table - outbox and inbox.</p>
<p>I&rsquo;m not going to use the same API like in my previous post mentioned above but create a <code>TableViewItemsController</code> manually instead.</p>
<p><code>TableViewItemsController</code> has two initializers (modelled after the RxDataSources API):</p>
<ul>
<li><code>init(cellIdentifier:cellType:cellConfig:)</code> - this is the initializer that <code>UITableView.rowsSubscriber(...)</code> uses.</li>
<li><code>init(cellFactory:)</code> - this is the initializer that we&rsquo;re going to use below.</li>
</ul>
<p>The <code>cellFactory</code> closure is given the table view, the controller, and the data and is expected to dequeue a cell and return it ready for displaying.</p>
<p>I&rsquo;m gonna do that my view controller&rsquo;s <code>viewDidLoad()</code> method:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">listController</span> = TableViewItemsController&lt;[[Message]]&gt;
</span></span><span style="display:flex;"><span>  { (controller, table, indexPath, message) -&gt; UITableViewCell <span style="color:#6ab825;font-weight:bold">in</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  }</span></span></code></pre></div>
<p><code>TableViewItemsController</code> is generic over the list type it binds, which in my case is <code>[[Message]]</code> - one <code>[Message]</code> list for each of the table&rsquo;s sections.</p>
<p>The closure parameter receives four parameters as follows:</p>
<ul>
<li>the controller instance itself</li>
<li>the table view</li>
<li>the index path of the current row</li>
<li>the data element to bind for this row</li>
</ul>
<p>Since I have a different cell type per section I will switch over the current row&rsquo;s index path and decide what cell to return. The closure body becomes:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">switch</span> indexPath.section {
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">case</span> <span style="color:#3677a9">0</span>:  <span style="color:#999;font-style:italic">// Outbox section</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">cell</span> = table.dequeueReusableCell(
</span></span><span style="display:flex;"><span>    withIdentifier: OutboxCell.identifier) <span style="color:#6ab825;font-weight:bold">as</span>! OutboxCell
</span></span><span style="display:flex;"><span>  cell.title.text = message.title
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">return</span> cell
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">case</span> <span style="color:#3677a9">1</span>: <span style="color:#999;font-style:italic">// Inbox section</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">let</span> <span style="color:#40ffff">cell</span> = table.dequeueReusableCell(
</span></span><span style="display:flex;"><span>    withIdentifier: InboxCell.identifier) <span style="color:#6ab825;font-weight:bold">as</span>! InboxCell
</span></span><span style="display:flex;"><span>  cell.title.text = message.title
</span></span><span style="display:flex;"><span>  <span style="color:#6ab825;font-weight:bold">return</span> cell
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">default</span>: fatalError()
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>In each of my cases I&rsquo;m free to configure the cells as I please - above I just set the row&rsquo;s title.</p>
<p>With an initialized controller in hand, I simply need to bind the message list to a table subscriber. Right after the code from above, I&rsquo;ll add:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span>Just(messages)
</span></span><span style="display:flex;"><span>  .bind(subscriber: tableView.sectionsSubscriber(listController))
</span></span><span style="display:flex;"><span>  .store(<span style="color:#6ab825;font-weight:bold">in</span>: &amp;subscriptions)</span></span></code></pre></div>
<p><code>tableView.sectionsSubscriber(listController)</code> creates a sections subscriber by using the given <code>listController</code> controller.</p>
<p>I bind my message list to that subscriber and that&rsquo;s all I need to wrap up this example. (Storing the subscription in a <code>[AnyCancellable]</code> as well.)</p>
<p>Running the project I get a populated table with the expected rows types in the two sections:</p>
<p><img src="https://trycombine.com/images/datasources/mail-app.png" alt="Mail app running"></p>
<p>That&rsquo;s all for today, I hope that was useful and I&rsquo;ll see you next time!</p>
<h2 id="where-to-go-from-here">Where to go from here?</h2>
<p>In case you missed the previous post on CombineDataSources you can find it here: <a href="https://trycombine.com/posts/combinedatasources-simple-static-list/">Binding a simple list to a UITableView</a>.</p>
<p>To learn more about working with UIKit and Combine check out <a href="http://combinebook.com">Combine: Asynchronous programming with Swift</a> - this is where you can see all updates, discuss in the website forums, and more.</p>
</div>
    <hr/>
    <div><i>If you like these free blog posts, check out some of the books I worked on!</i></div>

    <div id="combinebook">
      <table width="100%">
        <tr>
          <td style="font-size: 0.9em; font-family: sans-serif; font-weight: bold; text-align:center;">
            <a href="http://swiftconcurrencybook.com" target="_blank" style="text-decoration:none;">
              <img src="https://trycombine.com/images/concurrency-book.png" style="width:150px; box-shadow: 4px 6px #354465;border-radius:5px;">
            </a>
            <br/>
            <a href="http://swiftconcurrencybook.com">Modern Concurrency in Swift</a><span class="new-badge">New</span>
          </td>
          
          <td style="font-size: 0.9em; font-family: sans-serif; font-weight: bold; text-align:center;">
            <a href="http://combinebook.com" target="_blank" style="text-decoration:none;">
              <img src="https://trycombine.com/images/combine.png" style="width:150px; box-shadow: 4px 6px #354465;border-radius:10px;">
            </a>
            <br/>
            <a href="https://combinebook.com">Combine: Asynchronous<br/> programming with Swift</a>
          </td>
        </tr>
      </table>
				<br/>
		</div>
		<p class="meta">Posted on <span class="postdate">07. September 2019</span></p>
	</article>
	

			</div>

			<footer id="footer">
				<p class="copyright">
					
						Powered by <a href="https://gohugo.io/">Hugo</a> and the
						<a href="https://github.com/bake/solar-theme-hugo">Solar</a>-theme.
					
				</p>
			</footer>
		</div>

		<script src="https://www.w3counter.com/tracker.js?id=147849"></script>
<script>
  if (window.location.href.indexOf("localhost") < 0) {
    
  } else {
    console.log('localhost');
  }
</script>
	</body>
</html>
